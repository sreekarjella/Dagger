<ion-header>
  <ion-toolbar>
    <ion-grid>
      <ion-row>
        <ion-col size-md>
          <ion-searchbar placeholder="Search movies" mode="ios" [(ngModel)]="searchValue" (ionChange)="searchMovie()"
            class="ion-padding-top">
          </ion-searchbar>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="6" size-md>
          <ion-select placeholder="Genres" mode="ios" multiple="true" [(ngModel)]="genre" (ionChange)="onSelectGenre()">
            <ion-select-option *ngFor="let genre of generes">{{genre}}</ion-select-option>
          </ion-select>
        </ion-col>
        <ion-col size="6" size-md>
          <ion-select placeholder="Rating" mode="ios" [(ngModel)]="rating" (ionChange)="onSelectRating()">
            <ion-select-option *ngFor="let rating of ratings">{{rating + '+'}}</ion-select-option>
          </ion-select>
        </ion-col>
        <!-- <ion-col size="4" size-md>
          <ion-select placeholder="Order by" mode="ios">
            <ion-select-option value="f">Female</ion-select-option>
            <ion-select-option value="m">Male</ion-select-option>
          </ion-select>
        </ion-col> -->
      </ion-row>
    </ion-grid>
  </ion-toolbar>
</ion-header>

<ion-content>

  <div *ngIf="searchData.length === 0 && searchValue.length !== 0" class="ion-padding">
    <ion-text class="ion-text-start">
      <h6>Sorry! We have not listed that down.</h6>
    </ion-text>
  </div>

  <ion-spinner *ngIf="showSpinner" class="spinner-center" color="tertiary" name="circles"></ion-spinner>

  <ng-container *ngIf="searchData.length !== 0 && searchValue.length !== 0">
    <app-movie-cover [movies]="searchData"></app-movie-cover>
  </ng-container>

  <ng-container *ngIf="latestData.length !== 0 && searchValue.length === 0">
    <ion-grid class="no-bottom-padding">
      <ion-row>
        <ion-col size="12" size-md class="ion-padding no-bottom-padding">
          <ion-text>
            <h4 class="ion-no-margin">Recently added</h4>
          </ion-text>
        </ion-col>
      </ion-row>
    </ion-grid>
    <app-movie-cover [movies]="latestData"></app-movie-cover>
  </ng-container>

  <ion-infinite-scroll threshold="200px" (ionInfinite)="loadMovies($event)">
    <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more movies...">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>

</ion-content>